{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAChCC,EAAUH,EAAOI,SAASC,MAC1BC,EAAYN,EAAOI,SAASG,QAElC,IAAIC,EACJ,MACMC,EAAcC,aAAaC,QADjB,uBAGhB,GAAIF,EACF,IACED,EAAgBI,KAAKC,MAAMJ,GAC3BN,EAAQW,MAAQN,EAAcH,MAC9BC,EAAUQ,MAAQN,EAAcD,O,CAChC,MAAOQ,GACPC,QAAQC,MAAMF,E,MAGhBf,EAAOkB,QAGTlB,EAAOmB,iBAAiB,QAASC,EAAAtB,GAAOuB,UAGxC,WACEb,EAAgB,CACdH,MAAOF,EAAQW,MACfP,QAASD,EAAUQ,OAGrBJ,aAAaY,QAxBC,sBAwBgBV,KAAKW,UAAUf,G,GATW,MAC1DR,EAAOmB,iBAAiB,UAWxB,SAAkBK,GAChBA,EAAMC,iBACNT,QAAQU,IAAIlB,GACZR,EAAOkB,QACPR,aAAaiB,WA/BC,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import lodash from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst emailEl = formEl.elements.email;\nconst messageEl = formEl.elements.message;\n\nlet currentValues;\nconst formKey = 'feedback-form-state';\nconst savedValues = localStorage.getItem(formKey);\n\nif (savedValues) {\n  try {\n    currentValues = JSON.parse(savedValues);\n    emailEl.value = currentValues.email;\n    messageEl.value = currentValues.message;\n  } catch (e) {\n    console.error(e);\n  }\n} else {\n  formEl.reset();\n}\n\nformEl.addEventListener('input', lodash.throttle(onInput, 500));\nformEl.addEventListener('submit', onSubmit);\n\nfunction onInput() {\n  currentValues = {\n    email: emailEl.value,\n    message: messageEl.value,\n  };\n\n  localStorage.setItem(formKey, JSON.stringify(currentValues));\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  console.log(currentValues);\n  formEl.reset();\n  localStorage.removeItem(formKey);\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$emailEl","elements","email","$945622fd0f572e60$var$messageEl","message","$945622fd0f572e60$var$currentValues","$945622fd0f572e60$var$savedValues","localStorage","getItem","JSON","parse","value","e","console","error","reset","addEventListener","$parcel$interopDefault","throttle","setItem","stringify","event","preventDefault","log","removeItem"],"version":3,"file":"03-feedback.6bdc7f25.js.map"}